# Интеграция с WordPress

## Описание

Создан простой клиент для просмотра расписаний врачей в WordPress. Реализованы публичные API endpoints и готовый виджет для вставки на сайт.

## API Endpoints

### GET /GetSchedule
Публичный endpoint для получения расписаний (пока без авторизации).

**Параметры запроса:**
- `dateTimeFrom` (опционально) - начальная дата в формате ISO 8601
- `dateTimeTo` (опционально) - конечная дата в формате ISO 8601
- `doctorId` (опционально) - ID врача для фильтрации
- `branchId` (опционально) - ID филиала для фильтрации

**Пример:**
```
GET /GetSchedule?dateTimeFrom=2025-12-20T00:00:00&dateTimeTo=2025-12-21T23:59:59&doctorId=101
```

### GET /GetDoctors
Публичный endpoint для получения списка всех врачей.

### GET /GetBranches
Публичный endpoint для получения списка всех филиалов.

## Использование в WordPress

### HTML блок (рекомендуется)

1. Откройте файл `wordpress-widget-embed.html`
2. Скопируйте всё содержимое файла
3. В WordPress создайте новый блок "HTML" или "Custom HTML"
4. Вставьте скопированный код
5. **Важно:** Адрес API определяется автоматически на основе текущего хоста. Если WordPress и API на одном сервере, виджет автоматически использует правильный адрес. Если нужно указать вручную, используйте атрибут `data-api-url`:
   ```html
   <div class="ident-schedule" id="identSchedule" data-api-url="http://ваш-api-сервер:5100">
   ```
   
   **Пример для продакшна (если нужно указать вручную):**
   ```html
   <div class="ident-schedule" id="identSchedule" data-api-url="http://176.109.105.218:5100">
   ```

## Функциональность виджета

- Фильтрация по врачам
- Фильтрация по филиалам
- Фильтрация по датам
- Отображение статуса (Свободно/Занято)
- Автоматическая загрузка при открытии страницы
- Адаптивный дизайн

## Безопасность

⚠️ **Важно:** Endpoints `/GetSchedule`, `/GetDoctors`, `/GetBranches` являются публичными и не требуют авторизации. Если нужна защита, добавьте проверку в код или используйте CORS настройки на сервере.
